<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Aplicação de Treinamento</title>
</head>
<body>
    <h3>Aplicação de Treinamento</h3>
    <form method="post" action="json" id="formulario">
        <label for="nome">Nome:</label>
        <input type="text" id="nome" name="nome" required><br><br>
        <label for="email">E-mail:</label>
        <input type="email" id="email" name="email" required><br><br>
        <label for="idade">Idade:</label>
        <input type="number" id="idade" name="idade" required><br><br>
        <label for="sexo">Sexo:</label>
        <input type="radio" id="sexo_masculino" name="sexo" value="Masculino" required>
        <label for="sexo_masculino">Masculino</label>
        <input type="radio" id="sexo_feminino" name="sexo" value="Feminino" required>
        <label for="sexo_feminino">Feminino</label>
        <input type="radio" id="sexo_outro" name="sexo" value="Outro" required>
        <label for="sexo_outro">Outro</label><br><br>
        <input type="submit" value="Enviar">
    </form>
    <div id="resposta-json"></div>

    <script>
        document.getElementById("formulario").addEventListener("submit", function (e) {
            e.preventDefault();
            var xhr = new XMLHttpRequest();
            xhr.open("POST", "json", true);
            xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");

			xhr.onreadystatechange = function () {
			    if (xhr.readyState === 4) {
			        if (xhr.status === 200) {
			            var jsonResponse = JSON.parse(xhr.responseText);
			            var responseDiv = document.getElementById("resposta-json");
			            responseDiv.innerHTML = JSON.stringify(jsonResponse, null, 2);
			        } else {
			        }
			    }
			};
            var formData = new FormData(document.getElementById("formulario"));
            xhr.send(new URLSearchParams(formData));
        });
    </script>
</body>
</html>
